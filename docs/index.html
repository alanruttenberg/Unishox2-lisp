<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Unishox: Unishox - A hybrid encoder for compressing Short Unicode Strings</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="siara_cc_3d.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Unishox
   </div>
   <div id="projectbrief">A hybrid encoder for Short Unicode Strings</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Unishox - A hybrid encoder for compressing Short Unicode Strings </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README"></a> <a href="https://github.com/siara-cc/Unishox/actions/workflows/c-cpp.yml"><img src="https://github.com/siara-cc/Unishox/actions/workflows/c-cpp.yml/badge.svg" alt="C/C++ CI" style="pointer-events: none;" class="inline"/></a> <a href="https://zenodo.org/badge/latestdoi/199989895"><img src="https://zenodo.org/badge/199989895.svg" alt="DOI" style="pointer-events: none;" class="inline"/></a></p>
<p >In general compression utilities such as <code>zip</code>, <code>gzip</code> do not compress short strings well and often expand them. They also use lots of memory which makes them unusable in constrained environments like Arduino. So Unishox algorithm was developed for individually compressing (and decompressing) short strings.</p>
<p >Note: The present byte-code version is 2 and it replaces <a href="https://github.com/siara-cc/Unishox2/blob/master/Unishox_Article_1.pdf?raw=true">Unishox 1</a>. Unishox 1 is still available as unishox1.c, but it will have to be compiled manually if it is needed.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Applications</h1>
<ul>
<li>Compression for low memory devices such as Arduino and ESP8266</li>
<li>Compression of Chat application text exchange include Emojis</li>
<li>Storing compressed text in database</li>
<li>Faster retrieval speed when used as join keys</li>
<li>Bandwidth and storage cost reduction for Cloud</li>
</ul>
<p ><img src="https://github.com/siara-cc/Unishox2/blob/master/promo/Banner1.png?raw=true" alt="Promo video" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md2"></a>
How it works</h1>
<p >Unishox is an hybrid encoder (entropy, dictionary and delta coding). It works by assigning fixed prefix-free codes for each letter in the above Character Set (entropy coding). It also encodes repeating letter sets separately (dictionary coding). For Unicode characters, delta coding is used.</p>
<p >The model used for arriving at the prefix-free code is shown below:</p>
<p ><img src="https://github.com/siara-cc/Unishox2/blob/master/promo/model.png?raw=true" alt="Promo video" class="inline"/></p>
<p >The complete specification can be found in this article: <a href="https://github.com/siara-cc/Unishox2/blob/master/Unishox_Article_2.pdf?raw=true">A hybrid encoder for compressing Short Unicode Strings</a>.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Compiling</h1>
<p >To compile, just use <code>make</code> or use gcc as follows:</p>
<div class="fragment"><div class="line">gcc -std=c99 -o unishox2 test_unishox2.c unishox2.c</div>
</div><!-- fragment --><p >For testing the compiled program, use:</p>
<div class="fragment"><div class="line">./test_unishox2 -t</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md4"></a>
API</h1>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="unishox2_8h.html#a37df146e9ddd9ff1b07c7c160683d96c">unishox2_compress_simple</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *in, <span class="keywordtype">int</span> len, <span class="keywordtype">char</span> *out);</div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="unishox2_8h.html#a3e5c00a0c5db7979d94b0b294908a04e">unishox2_decompress_simple</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *in, <span class="keywordtype">int</span> len, <span class="keywordtype">char</span> *out);</div>
<div class="ttc" id="aunishox2_8h_html_a37df146e9ddd9ff1b07c7c160683d96c"><div class="ttname"><a href="unishox2_8h.html#a37df146e9ddd9ff1b07c7c160683d96c">unishox2_compress_simple</a></div><div class="ttdeci">int unishox2_compress_simple(const char *in, int len, char *out)</div><div class="ttdef"><b>Definition:</b> unishox2.c:842</div></div>
<div class="ttc" id="aunishox2_8h_html_a3e5c00a0c5db7979d94b0b294908a04e"><div class="ttname"><a href="unishox2_8h.html#a3e5c00a0c5db7979d94b0b294908a04e">unishox2_decompress_simple</a></div><div class="ttdeci">int unishox2_decompress_simple(const char *in, int len, char *out)</div><div class="ttdef"><b>Definition:</b> unishox2.c:1343</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5"></a>
Usage</h1>
<p >To see Unishox in action, simply try to compress a string:</p>
<div class="fragment"><div class="line">./test_unishox2 &quot;Hello World&quot;</div>
</div><!-- fragment --><p >To compress and decompress a file, use:</p>
<div class="fragment"><div class="line">./test_unishox2 -c &lt;input_file&gt; &lt;compressed_file&gt;</div>
<div class="line">./test_unishox2 -d &lt;compressed_file&gt; &lt;decompressed_file&gt;</div>
</div><!-- fragment --><p >Unishox does not give good ratios compressing large files or compressing binary files.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Character Set</h1>
<p >Unishox supports the entire Unicode character set. As of now it supports UTF-8 as input and output encoding.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Projects that use Unishox</h1>
<ul>
<li><a href="https://github.com/siara-cc/Unishox_Arduino_Progmem_lib">Unishox Compression Library for Arduino Progmem</a></li>
<li><a href="https://github.com/siara-cc/Unishox_Sqlite_UDF">Sqlite3 User Defined Function as loadable extension</a></li>
<li><a href="https://github.com/siara-cc/esp32_arduino_sqlite3_lib">Sqlite3 Library for ESP32</a></li>
<li><a href="https://github.com/siara-cc/esp_arduino_sqlite3_lib">Sqlite3 Library for ESP8266</a></li>
<li><a href="https://github.com/arendst/Tasmota/tree/development/tools/unishox">Port of Unishox 1 to Python and C++ by Stephan Hadinger for Tasmota</a></li>
<li><a href="https://github.com/tweedge/unishox2-py3">Python bindings for Unishox2</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md8"></a>
Credits</h1>
<ul>
<li>Thanks to <a href="https://github.com/leafgarden">Jonathan Greenblatt</a> for his <a href="https://github.com/siara-cc/Unishox/tree/master/Arduino">port of Unishox2 that works on Particle Photon</a></li>
<li>Thanks to <a href="https://github.com/tweedge">Chris Partridge</a> for his <a href="https://github.com/tweedge/unishox2-py3">port of Unishox2 to CPython</a> and his <a href="https://github.com/tweedge/unishox2-py3#integration-tests">comprehensive tests</a> using <a href="https://hypothesis.readthedocs.io/en/latest">Hypothesis</a> and <a href="https://github.com/tweedge/unishox2-py3#performance">extensive performance tests</a>.</li>
<li>Thanks to <a href="https://github.com/s-hadinger">Stephan Hadinger</a> for his <a href="https://github.com/arendst/Tasmota/tree/development/tools/unishox">port of Unishox1 to Python for Tasmota</a></li>
<li>Thanks to <a href="https://github.com/piponazo">Luis Díaz Más</a> for his PRs to support MSVC and CMake setup</li>
<li>Thanks to <a href="https://github.com/gsm55">James Z.M. Gao</a> for his PRs on improving presets, unit tests, bug fixes and more.</li>
</ul>
<h1><a class="anchor" id="autotoc_md9"></a>
Issues</h1>
<p >In case of any issues, please email the Author (Arundale Ramanathan) at <a href="#" onclick="location.href='mai'+'lto:'+'aru'+'n@'+'sia'+'ra'+'.cc'; return false;">arun@<span style="display: none;">.nosp@m.</span>siar<span style="display: none;">.nosp@m.</span>a.cc</a> or create GitHub issue. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
